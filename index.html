<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="enhanced-slider.js" type="module" ></script>
    <title>enhanced-slider demo</title>
    <style>
        html{ 
            color-scheme: light dark;
            font-family: sans-serif;
        }
        body{
            padding-block: 80px;
            padding-inline: 10px;
            margin: 0;
        }
        h1, h2{
            text-align: center; 
            margin: 0;
        }
        h1{ font-size: 2.5rem; }
        h2{ font-size: 1.8rem; }
        a{ 
            display: block; 
            width: fit-content;
            margin: auto;
        }
        label{
            display: block;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
        }
        code{ text-wrap: nowrap;}

        form{
            border: 1px solid hsl(0 0% 50% / 30%);
            padding: 20px;
            max-width: 30rem;
            margin-inline: auto;
            margin-block: 60px;
            text-align: center;
            & > h2{ margin-bottom: 60px; }
            & > #component-id{
                margin-inline: auto;
            }
            & > fieldset.browser-defaults{
                width: fit-content;
                margin-inline: auto;
                margin-block: 60px;
                border: 1px solid hsl(0 0% 50% / 20%);
                & > legend{ margin-inline: auto; }
                & > input{ 
                    display: block; 
                    margin-inline: auto;
                    margin-block: 10px;
                }
                & > input[type="range"]{ width: 16rem; }
            }
            & > .buttons{
                display: flex;
                justify-content: center;
                gap: 20px;
            }
        }        

        #more-examples{
            text-align: center;
            margin-inline: auto;
            max-width: 26rem;
            & > h2{ margin-bottom: 20px; }
            & > div{ 
                padding-block: 40px;
                border-radius: 8px;
            }
            & enhanced-slider{
                max-width: 18rem;
                margin-inline: auto;
            }
        }

        .css-open-button{
            font-size: 0.75rem;
            font-family: monospace;
            color: light-dark(dimgray, silver);
            background: transparent;
            border: 1px solid light-dark(silver, dimgray);
            padding: 2px 8px;
            &:hover{
                color: light-dark(black, white);
                background-color: light-dark(gainsboro, dimgray); 
            }
        }
        .css-modal{
            & > style{
                display: block;
                text-align: start;
                white-space: pre;
                font-family: monospace;
                /* Magic number based on indentation */
                margin-left: -20ch;
            }
        }

        #custom-buttons{
            column-gap: 10px;
            &::part(button){ 
                width: auto;
                height: auto;
                padding-inline: 8px;
                padding-block: 6px;
                color: white;
                background-color: dodgerblue;
                outline: 2px solid transparent;
                transition: outline 100ms linear;
            }
            &::part(button):enabled:hover{
                outline-color: white;
                outline-offset: -4px;
            }
        }

        /* Invert preference */
        .dark-mode{
            @media (prefers-color-scheme: light){
                color-scheme: dark;
                background-color: hsl(240, 15%, 10%);
                color: hsl(0, 0%, 90%);
            }
            @media (prefers-color-scheme: dark){
                color-scheme: light;
                background-color: white;
                color: black;
            }
        }
    </style>
    <script>
        function onSubmit(e){
            e.preventDefault()
            const formData = new FormData(e.target)
            let outputText = ""
            for (const [name, value] of formData.entries()){
                outputText += `\n${name}\n${value}\n`
            }
            alert(outputText)
        }
        function copyCSS(e){
            const style = e.target.previousElementSibling
            navigator.clipboard.writeText(style.innerHTML)
        }
        function openModal(e){
            const modal = e.target.nextElementSibling
            modal.showModal()
        }
        function closeModal(e){
            const modal = e.target.parentElement
            modal.close()
        }
    </script>
</head>
<body>
    <h1>enhanced-slider demo</h1>
    <a href="https://github.com/Alexander-Holm/enhanced-slider" target="_blank">Github</a>

    <form onsubmit="onSubmit(event)">
        <h2>Form</h2>
        <label for="component-id">enhanced-slider</label>
        <enhanced-slider name="enhanced-slider" id="component-id"></enhanced-slider>
        <fieldset class="browser-defaults">
            <legend>Browser default range & number</legend>
            <input name="default input range" type="range">
            <input name="default input number" type="number" value="0">
        </fieldset>
        <p>The current value is submitted with the form as long as the component has a <code>name</code> attribute.</p>
        <div class="buttons">
            <button type="submit">Submit</button>
            <button type="reset">Reset</button>
        </div>
    </form>

    <section id="more-examples">
        <h2>More examples</h2>
        <div>
            <label for="ticks">Ticks for every step</label>
            <enhanced-slider id="ticks" step="2.5" min="-10" max="25" ticks="all"></enhanced-slider>
        </div>
        <div>
            <label for="labels-ticks">Labels and ticks for every step</label>
            <enhanced-slider id="labels-ticks" step="1" min="1" max="5" ticks="all" labels="all"></enhanced-slider>
        </div>
        <div>
            <label for="hide-labels">Without ticks or labels</label>
            <enhanced-slider id="hide-labels" ticks="none" labels="none" ></enhanced-slider>
        </div>
        <div>
            <label for="disabled">Disabled</label>
            <enhanced-slider id="disabled" disabled></enhanced-slider>
        </div>
        <div class="dark-mode">
            <label for="dark-mode">Dark & light mode</label>
            <enhanced-slider id="dark-mode"></enhanced-slider>
            <enhanced-slider disabled></enhanced-slider>
        </div>        
        <div>
            <label for="gradient">Gradient track fill</label>
            <button class="css-open-button" onclick="openModal(event)">CSS</button>
            <dialog class="css-modal">
                <style>
                    #gradient{
                        --c1: #c60053;
                        --c2: #ffa700;
                        &::part(slider){
                            --track-fill-background: linear-gradient(to right, var(--c1), var(--c2));
                            --thumb-border: 2px solid var(--c2);
                            --thumb-width: 1rem;
                        }
                        &::part(slider):active{
                            --thumb-border: calc(var(--thumb-width) *0.35) solid var(--c2);
                        }
                        &::part(button){ color: var(--c1)}
                        &::part(input-box){ border-color: var(--c2); }
                    }
                </style>
                <button onclick="copyCSS(event)">Copy</button>
                <button onclick="closeModal(event)">Close</button>
            </dialog>
            <enhanced-slider id="gradient" ticks="none" labels="none"></enhanced-slider>
        </div>
        <div>
            <label for="thin">Thin track and thumb</label>
            <button class="css-open-button" onclick="openModal(event)">CSS</button>
            <dialog class="css-modal">
                <style>
                    #thin{
                        &::part(slider){
                            --track-height: 2px;
                            --track-fill-background: dodgerblue;
                            --thumb-width: 3px;
                            --thumb-height: 1rem;
                            --thumb-background: dodgerblue;
                            --thumb-border: none;
                        }
                        &::part(button){ color: dodgerblue }
                        &::part(input-box){ border-color: dodgerblue; }
                    }
                </style>
                <button onclick="copyCSS(event)">Copy</button>
                <button onclick="closeModal(event)">Close</button>
            </dialog>
            <enhanced-slider id="thin" ticks="none" labels="none"></enhanced-slider>
        </div>        
        <div>
            <label for="repeating-gradient">Repeating gradients</label>
            <button class="css-open-button" onclick="openModal(event)">CSS</button>
            <dialog class="css-modal">
                <style>
                    #repeating-gradient{
                        &::part(slider){
                            --thumb-width: 2rem;
                            --thumb-height: 2rem;
                            --thumb-background: repeating-conic-gradient(dimgray 0deg, lightgray 60deg, dimgray 120deg);
                            --thumb-shadow: 0 1px 2px 2px black;
                            --thumb-border: none;

                            --track-height: 10px;
                            --track-fill-background: repeating-linear-gradient(-45deg, #36b284 0 4px, black 4px 8px);
                            --track-background: repeating-linear-gradient(-45deg, #d29c6c 0 4px, dimgray 4px 8px);
                        }
                        &::part(slider):hover{ --thumb-shadow: 0 1px 4px 3px black; }
                        &::part(track){ border: 2px solid black; }
                        &::part(input-box){ margin-top: 8px; }
                    }
                </style>
                <button onclick="copyCSS(event)">Copy</button>
                <button onclick="closeModal(event)">Close</button>
            </dialog>
            <enhanced-slider id="repeating-gradient" ></enhanced-slider>
        </div>
        <div>
            <label for="custom-buttons">Custom buttons</label>
            <enhanced-slider id="custom-buttons">
                <span slot="decrement">Less</span>
                <span slot="increment">More</span>
            </enhanced-slider>
        </div>
    </section>
</body>
</html>